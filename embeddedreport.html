<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legislative Tracker Report</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        iframe {
            width: 100vw;
            height: 100vh;
            border: none;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <script>
        // Check if accessGranted token is present in localStorage
        const accessGranted = localStorage.getItem('accessGranted');
        const accessTime = localStorage.getItem('accessTime');
        const now = new Date().getTime();

        if (accessGranted !== 'true' || !accessTime || now - parseInt(accessTime, 10) > 86400000) { // 86400000ms = 24hrs
            // If no token, or 24 hours have passed, reset the token and redirect to the landing page
            localStorage.removeItem('accessGranted');
            localStorage.removeItem('accessTime');
            window.location.href = 'https://quipuadvisors.github.io/trackerko/';
        }
    </script>

    <iframe src="https://lookerstudio.google.com/embed/reporting/d30a9526-e67f-4bf6-8e3f-a2b7f6e98bfa/page/p_wmhkf2h4id" allowfullscreen></iframe>
</body>
</html>
